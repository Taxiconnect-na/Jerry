filebeat.inputs:
  - type: docker
    containers.ids: "*"
processors:
  - add_docker_metadata: ~
    host: "unix:///var/run/docker.sock"
  - decode_json_fields:
    fields: ["message"]
    target: "json"
    overwrite_keys: true

output.elasticsearch:
  hosts: ["localhost:9200"]
  index: "filebeat-%{[agent.version]}-%{+yyyy.MM.dd}"
setup.template:
  name: "filebeat"
  pattern: "filebeat-*"
