<!DOCTYPE html>
<html>
  <head>
    <title>Simulation tool</title>
  </head>
  <body style="padding-left: 10%; padding-right: 10%">
    <h3>TaxiConnect passengers trip simulator tool</h3>

    <div style="float: left">
      <button id="startPickupSim" style="background-color: #007fff; color: #fff; padding: 10px; border: 1px solid #007fff; width: 240px">
        Start the pickup simulation ►</button
      ><br /><br />
      <button id="startDropoffSim" style="background-color: green; color: #fff; padding: 10px; border: 1px solid green; width: 240px">
        Start the drop off simulation ►
      </button>
    </div>

    <div id="Log" style="border: 1px solid black; float: right; width: 65%; height: 600px; overflow-y: auto; padding: 10px"></div>

    <script src="jquery.js"></script>
    <script type="text/javascript" src="/socket.io/socket.io.js"></script>
    <script type="text/javascript">
      var indexLog = 0;
      $("Input").val("");
      var name = prompt("Username: ");
      if (name.length == 0) {
        name = "Unknown";
      }
      var socket = io.connect("http://127.0.0.1:9000");

      socket.on("updateTripLog", function (data) {
        indexLog += 1;
        $("#Log").append('<span style="font-weight:bold;">' + indexLog + "</span>. " + data.logText + "<br>");
      });

      $("#startPickupSim").click(function () {
        indexLog += 1;
        $("#Log").append(
          '<span style="font-weight:bold;">' + indexLog + '</span>. <span style="color:#007fff;">Starting Pickup simulation</span><br>'
        );
        socket.emit("startPickupSim", {});
      });
    </script>
  </body>
</html>
